{% extends 'ragnal/base.html' %}
<title>{% block title %} Orders {% endblock %}</title>

{%block nav%}
{% load staticfiles %}
<script type="text/javascript" src="{% static "sales/order_bill.js" %}"> </script>
<link rel= "stylesheet" type="text/css" href="{% static "sales/orders.css" %}">

<div class = "collapse navbar-collapse" id="topNavBar">
	<ul class = "nav navbar-nav" id ="navtabs">
		<li class="{% block about_active %} {%endblock%}"><a href="#MainCourse">Main Course</a></li>
		<li class="#"><a href="#Breads">Breads</a></li>
		<li class="#"><a href="#Drinks">Drinks</a></li>
		<li class="#"><a href="#Desserts">Desserts</a></li>
	</ul>					
	<ul class = "nav navbar-nav navbar-right">
		<li class="dropdown" style="font-family:Calibri; font-size:120%;">
	        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Select Customer
	        <span class="caret"></span></a>
	        <ul class="dropdown-menu">
	          <li><a href="#">Page 1-1</a></li>
	          <li><a href="#">Page 1-2</a></li>
	          <li><a href="#">Page 1-3</a></li>
	        </ul>
      	</li>
	</ul>
</div>
{%endblock%}

{% block body %}
<div class="container-fluid">
	<div class="container" data-spy="affix" data-offset-top="80">
		<div class="row">
			<ul class="panel panel-default" id="billBar">
		        <li id="total" class="panel-heading" style = "color:green;font-size:150%;">Total:
		        </li><br>
		        <li id="orders" class="panel-body" style = "color:blue;font-size: 120%;">Orders:</li><br>
		        <li>
		        	<button class="btn btn-danger" onClick="reset_bill()"> Reset </button>
					<button class="btn btn-success" onClick="generate_bill()"  data-toggle="modal" data-target="#myModal"> Generate Bill</button>
				</li>
		     </ul>
		</div>
	</div>
	
	<!-- Modal Section -->
	<div id="myModal" class="modal fade" role="dialog">
	  <div class="modal-dialog">
	    <!-- Modal content-->
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal">&times;</button>
	        <h4 class="modal-title">Bill to be paid :</h4>
	      </div>
	      <div class="modal-body">
	        <p id="orderBill"></p>
	        <p id="details"></p>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-success" onClick="submit_bill()">Proceed and Print</button>
	      </div>
	    </div>
	  </div>
	</div>
	
	<div class="container2">
		<div class="row" id="MainCourse">
			<h3>Main Course</h3>
			{% for item in menu %}
				{% if item.category == 1 %}
				<div class = "col-md-2 col-sm-3 col-xs-6">
					<div class = "thumbnail"> 
						<div class = "caption">
							<h4>{{ item.description }}</h4>
							<button class= "btn btn-info" onClick = "minus({{item.price}}, '{{item.description}}')" role="button">
								<span class="glyphicon glyphicon-minus"></span>
	           				</button>													
							<button class= "btn btn-primary" onClick = "plus({{item.price}} , '{{item.description}}')" role="button">
								<span class="glyphicon glyphicon-plus"></span>
	           				</button>	
						</div>
					</div>	
				</div>
				{% endif %}
			{% endfor %}	
		</div>
		<div class="row" id="Breads">
			<h3>Breads</h3>
			{% for item in menu %}
				{% if item.category == 2 %}
			<div class = "col-md-2 col-sm-3 col-xs-6">
				<div class = "thumbnail"> 
					<div class = "caption">
						<h4>{{ item.description }}</h4>
						<button class= "btn btn-info" onClick = "minus({{item.price}}, '{{item.description}}')" role="button">
							<span class="glyphicon glyphicon-minus"></span>
           				</button>													
						<button class= "btn btn-primary" onClick = "plus({{item.price}} , '{{item.description}}')" role="button">
							<span class="glyphicon glyphicon-plus"></span>
           				</button>	
					</div>
   				</div>
   			</div>
				{% endif %}
			{% endfor %}	
		</div>
			
		<div class="row" id="Drinks">
			<h3>Drinks</h3>
			{% for item in menu %}
				{% if item.category == 3 %}
			<div class = "col-md-2 col-sm-3 col-xs-6">
				<div class = "thumbnail"> 
					<div class = "caption">
						<h4>{{ item.description }}</h4>
						<button class= "btn btn-info" onClick = "minus({{item.price}}, '{{item.description}}')" role="button">
							<span class="glyphicon glyphicon-minus"></span>
           				</button>													
						<button class= "btn btn-primary" onClick = "plus({{item.price}} , '{{item.description}}')" role="button">
							<span class="glyphicon glyphicon-plus"></span>
           				</button>	
					</div>
   				</div>
   			</div>
				{% endif %}
			{% endfor %}	
		</div>
		
		<div class="row" id="Desserts">
			<h3>Desserts</h3>
			{% for item in menu %}
				{% if item.category == 4 %}
			<div class = "col-md-2 col-sm-3 col-xs-6">
				<div class = "thumbnail"> 
					<div class = "caption">
						<h4>{{ item.description }}</h4>
						<button class= "btn btn-info" onClick = "minus({{item.price}}, '{{item.description}}')" role="button">
							<span class="glyphicon glyphicon-minus"></span>
           				</button>													
						<button class= "btn btn-primary" onClick = "plus({{item.price}} , '{{item.description}}')" role="button">
							<span class="glyphicon glyphicon-plus"></span>
           				</button>	
					</div>
   				</div>
   			</div>
				{% endif %}
			{% endfor %}	
		</div>
	</div>
</div>
{% endblock %}
